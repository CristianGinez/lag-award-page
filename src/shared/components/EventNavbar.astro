---
import { getEventBySlug } from "../../data/events";

const { eventSlug, eventName = "EVENTO" } = Astro.props;
const currentPath = Astro.url.pathname;

// Obtener tipo de evento
const currentEvent = getEventBySlug(eventSlug);
const isLeague = currentEvent?.type === 'league';

// Rutas
const rootLink = `/eventos/${eventSlug}`; 
const infoLink = `/eventos/${eventSlug}/info`; 
const winLink = `/eventos/${eventSlug}/ganadores`; 
---

<div class="w-full bg-black/40 backdrop-blur-md border-b border-white/5 sticky top-20 z-40 transition-all">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-14">
            
            <div class="flex items-center gap-4">
                <span class="text-purple-500 font-orbitron font-bold text-lg hidden sm:block uppercase">
                    {eventName}
                </span>
                <div class="h-6 w-px bg-white/10 hidden sm:block"></div>
                
                <nav class="flex space-x-1 sm:space-x-4">
                    
                    {/* LGICA PARA LIGA (PARSEC) */}
                    {isLeague ? (
                        <>
                            <a 
                                href={rootLink}
                                class={`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${currentPath === rootLink || currentPath === rootLink + '/' ? 'bg-green-600 text-white shadow-[0_0_15px_rgba(34,197,94,0.4)]' : 'text-gray-400 hover:text-white hover:bg-white/5'}`}
                            >
                                 Inscripci贸n
                            </a>
                            <a 
                                href={infoLink} 
                                class={`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${currentPath === infoLink ? 'bg-green-600 text-white shadow-[0_0_15px_rgba(34,197,94,0.4)]' : 'text-gray-400 hover:text-white hover:bg-white/5'}`}
                            >
                                癸 Informaci贸n
                            </a>
                        </>
                    ) : (
                    /* LGICA PARA PREMIOS (LAG AWARDS) */
                        <>
                            <a 
                                href={rootLink}
                                class={`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${currentPath === rootLink || currentPath === rootLink + '/' ? 'bg-purple-600 text-white shadow-[0_0_15px_rgba(147,51,234,0.4)]' : 'text-gray-400 hover:text-white hover:bg-white/5'}`}
                            >
                                Votaci贸n
                            </a>
                            <a 
                                href={winLink} 
                                class={`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${currentPath === winLink ? 'bg-purple-600 text-white shadow-[0_0_15px_rgba(147,51,234,0.4)]' : 'text-gray-400 hover:text-white hover:bg-white/5'}`}
                            >
                                Ganadores
                            </a>
                            <a 
                                href={infoLink} 
                                class={`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${currentPath === infoLink ? 'bg-purple-600 text-white shadow-[0_0_15px_rgba(147,51,234,0.4)]' : 'text-gray-400 hover:text-white hover:bg-white/5'}`}
                            >
                                Informaci贸n
                            </a>
                        </>
                    )}

                </nav>
            </div>

            <a href="/eventos" class="text-xs text-gray-500 hover:text-white transition-colors flex items-center gap-1">
                &larr; <span class="hidden sm:inline">Eventos</span>
            </a>
        </div>
    </div>
</div>
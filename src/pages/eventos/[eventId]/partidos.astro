---
import Layout from "../../../pages/Layout.astro";
import Navbar from "../../../shared/components/layouts/Navbar.astro";
import Footer from "../../../shared/components/layouts/Footer.astro";
import EventNavbar from "../../../shared/components/EventNavbar.astro";
import { getEventBySlug } from "../../../data/events";
import { parsecLeagueData } from "../../../data/parsecLeague";
import { LeagueFixture } from "../../../components/react/info/LeagueFixture";

const { eventId } = Astro.params;
const currentEvent = getEventBySlug(eventId);

if (!currentEvent || currentEvent.type !== 'league') {
  return Astro.redirect('/404');
}

export function getStaticPaths() {
  return [{ params: { eventId: 'ParsecLeague' } }];
}
---

<Layout title={`Partidos - ${currentEvent.title}`}>
  <Navbar />
  <EventNavbar eventSlug={currentEvent.slug} eventName={currentEvent.title} />
  
  <main class="pt-10 text-white min-h-screen relative">
    <div class="absolute inset-0 -z-10 overflow-hidden pointer-events-none">
        <div class="absolute top-[20%] right-[10%] w-[500px] h-[500px] bg-blue-600/10 rounded-full blur-[120px]"></div>
        <div class="absolute inset-0 bg-linear-to-b from-transparent via-[#050505]/80 to-[#050505]"></div>
    </div>

    <div class="container mx-auto px-4 md:px-6 py-10">
      <div class="flex items-center gap-4 mb-8 max-w-5xl mx-auto">
        <div class="h-10 w-1.5 bg-blue-500 rounded-full"></div>
        <h1 class="text-4xl font-black text-white tracking-tight">Fixture & Resultados</h1>
      </div>
      
      <LeagueFixture client:load fixture={parsecLeagueData.fixture} />
    </div>
  </main>
  <Footer />
</Layout>
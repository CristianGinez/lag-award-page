---
import Layout from "../../Layout.astro";
import Navbar from "../../../shared/components/layouts/Navbar.astro";
import Footer from "../../../shared/components/layouts/Footer.astro";
import EventNavbar from "../../../shared/components/EventNavbar.astro";
import { getEventBySlug } from "../../../data/events";
import { LeagueTables } from "../../../components/react/info/LeagueTables";

const { eventId } = Astro.params;
const currentEvent = getEventBySlug(eventId);

if (!currentEvent || currentEvent.type !== 'league') {
  return Astro.redirect('/404');
}
---

<Layout title={`Tablas - ${currentEvent.title}`}>
  <Navbar />
  <EventNavbar eventSlug={currentEvent.slug} eventName={currentEvent.title} />
  
  <main class="pt-10 text-white min-h-screen relative">
    {/* Fondo espec√≠fico de Parsec League */}
    <div class="absolute inset-0 -z-10 overflow-hidden pointer-events-none">
        <div class="absolute top-[10%] left-[20%] w-96 h-96 bg-green-600/10 rounded-full blur-[120px]"></div>
        <div class="absolute bottom-[10%] right-[20%] w-96 h-96 bg-emerald-600/10 rounded-full blur-[120px]"></div>
        <div class="absolute inset-0 bg-linear-to-b from-transparent via-[#050505]/80 to-[#050505]"></div>
    </div>

    <div class="container mx-auto px-4 md:px-6 py-10">
        <LeagueTables client:load event={currentEvent} />
    </div>
  </main>
  <Footer />
</Layout>
---
// src/pages/eventos/[eventId]/info.astro
import Layout from '../../../pages/Layout.astro';
import EventNavbar from '../../../shared/components/EventNavbar.astro';
import { events } from '../../../data/events';

// Importamos la data específica y el componente nuevo
import { parsecLeagueData } from '../../../data/parsecLeague';
import { LeagueDashboard } from '../../../components/react/info/LeagueDashboard';

export function getStaticPaths() {
  return events.map(event => ({
    params: { eventId: event.id },
  }));
}

const { eventId } = Astro.params;
const event = events.find(e => e.id === eventId);

if (!event) {
  return Astro.redirect('/404');
}

// Detectamos si es la Parsec League
const isParsecLeague = event.id === 'parsec-league';
---

<Layout title={`Información - ${event.title}`}>
  <div className="min-h-screen bg-black text-white pb-20">
    <EventNavbar event={event} />
    
    <main className="container mx-auto px-4 pt-8">
      {/* Encabezado General */}
      <div className="text-center mb-12">
        <h1 className="text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-linear-to-r from-yellow-400 via-orange-500 to-red-500 mb-4 uppercase">
          {event.name}
        </h1>
        <p className="text-gray-400 text-lg max-w-2xl mx-auto">
          {event.description}
        </p>
      </div>

      {/* Renderizado condicional */}
      {isParsecLeague ? (
        <LeagueDashboard data={parsecLeagueData} client:visible />
      ) : (
        <div className="text-center py-20 bg-gray-900/30 rounded-2xl border border-gray-800">
          <p className="text-2xl text-gray-500 font-bold">Información general del evento</p>
          <p className="text-gray-600 mt-2">Aquí irá el contenido para otros eventos como {event.name}</p>
        </div>
      )}

    </main>
  </div>
</Layout>